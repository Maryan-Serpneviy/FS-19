!function(e){function t(t){for(var n,a,c=t[0],l=t[1],d=t[2],s=0,f=[];s<c.length;s++)a=c[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,c=1;c<o.length;c++){var l=o[c];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={0:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;i.push([19,1]),o()}([,,,,,,,,,function(e,t,o){var n=o(10);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};o(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){},,,function(e,t,o){var n=o(14);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};o(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){},function(e,t,o){var n=o(16);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};o(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){},function(e,t,o){var n=o(18);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};o(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),i=o(4),a=o.n(i),c=(o(9),o(1)),l=o.n(c);o(13);function d(e){var t=e.checked,o=e.checkAllTodos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:t,onChange:o}),r.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}function u(e){return r.a.createElement("section",{className:"main"},r.a.createElement(d,{checked:e.todos.every((function(e){return e.completed})),checkAllTodos:e.checkAllTodos}),r.a.createElement("ul",{className:"todo-list"},e.todos.filter((function(t){return"All"===e.filter||"Completed"===e.filter&&t.completed||"Active"===e.filter&&!t.completed})).map((function(t){return r.a.createElement("li",{key:t.id,className:t.completed?"completed":""},r.a.createElement("div",{className:"view"},!e.canEdit&&r.a.createElement("input",{id:t.id,checked:t.completed,onChange:e.handleTodoCheck,className:"toggle",type:"checkbox"}),e.canEdit&&t.id===e.current?r.a.createElement("input",{onChange:e.handleTodoEdit,onKeyDown:e.finishTodoEdit,onBlur:e.changeTodoText,value:e.editValue,className:"todo-edit"}):r.a.createElement("label",{onClick:e.editTodo,htmlFor:"todo-".concat(t.id)},t.content),!e.canEdit&&r.a.createElement("button",{id:t.id,onPointerDown:e.confirmAction,name:"remove",className:"destroy"})))}))))}d.propTypes={checked:l.a.bool.isRequired,checkAllTodos:l.a.func.isRequired},u.propTypes={todos:l.a.array.isRequired,filter:l.a.oneOf(["All","Active","Completed"]).isRequired,handleTodoCheck:l.a.func.isRequired,confirmAction:l.a.func.isRequired,checkAllTodos:l.a.func.isRequired,canEdit:l.a.bool.isRequired,current:l.a.number,editValue:l.a.string.isRequired,handleTodoEdit:l.a.func.isRequired,editTodo:l.a.func.isRequired,finishTodoEdit:l.a.func.isRequired,changeTodoText:l.a.func.isRequired};o(15);function s(e){return r.a.createElement("footer",{className:"footer",style:{filter:"block"}},r.a.createElement("span",{className:"todo-count"},e.todosLeft," todos left"),r.a.createElement("ul",{className:"filters"},["All","Active","Completed"].map((function(t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#/".concat(t),className:e.filter===t?"selected":"",onClick:e.setFilter},t))}))),e.completed?r.a.createElement("button",{onClick:e.confirmAction,className:"clear-completed",name:"clear"},"Clear completed"):null)}s.propTypes={todosLeft:l.a.number.isRequired,filter:l.a.oneOf(["All","Active","Completed"]).isRequired,setFilter:l.a.func.isRequired,completed:l.a.bool.isRequired,confirmAction:l.a.func.isRequired};o(17);function f(e){var t={remove:e.removeTodo,clear:e.clearCompleted};return r.a.createElement("div",{className:"todoapp__confirm"},"This action cannot be undone. Proceed?",r.a.createElement("button",{onClick:t[e.action],className:"confirm-btn confirm_yes",name:"confirm"},"√"),r.a.createElement("button",{onClick:e.confirmAction,className:"confirm-btn confirm_no",name:"decline"},"×"))}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}f.propTypes={confirmAction:l.a.func.isRequired,removeTodo:l.a.func.isRequired,clearCompleted:l.a.func.isRequired,action:l.a.string.isRequired};var T=4,E=function(e){function t(){var e,o,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=this,i=(e=y(t)).call.apply(e,[this].concat(c)),o=!i||"object"!==m(i)&&"function"!=typeof i?v(n):i,g(v(o),"state",{todoInput:"",editValue:"",nextTodo:0,todos:[],filter:"All",allChecked:!1,completed:!1,canAdd:!1,canEdit:!1,confirm:!1,action:null,currentId:null}),g(v(o),"inputField",r.a.createRef()),g(v(o),"handleNewTodo",(function(e){o.setState({todoInput:e.target.value})})),g(v(o),"addNewTodo",(function(e){var t=o.state,n=t.todoInput,r=t.nextTodo,i=t.todos,a=e.target.id;o.setAddBtn(),("Enter"===e.key&&n.length>T&&n.trim()||"btn-new"===a&&n.length>T&&n.trim()&&!i.find((function(e){return e.content===n.trim()})))&&(o.inputField.current.focus(),o.setState({todos:[].concat(p(i),[{id:r,content:n,completed:!1}]),nextTodo:r+1,todoInput:"",canAdd:!1,confirm:!1}))})),g(v(o),"handleTodoCheck",(function(e){var t=e.target.id;o.hideConfirm(),o.setState((function(e){var o=!0,n=!1,r=void 0;try{for(var i,a=e.todos[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var c=i.value;c.id===Number(t)&&(c.completed=!c.completed)}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}return e}))})),g(v(o),"removeTodo",(function(){var e=o.state.todos.filter((function(e){return e.id!==o.state.currentId}));o.setState({todos:e,nextTodo:o.state.nextTodo-1,confirm:!1})})),g(v(o),"checkAllTodos",(function(){o.hideConfirm(),o.setState((function(e){e.allChecked=!e.allChecked;var t=!0,o=!1,n=void 0;try{for(var r,i=e.todos[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.completed=e.allChecked}}catch(e){o=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw n}}return e}))})),g(v(o),"setFilter",(function(e){o.setState({filter:e.target.innerText,confirm:!1})})),g(v(o),"clearCompleted",(function(){o.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed})),nextTodo:0,confirm:!1}}))})),g(v(o),"confirmAction",(function(e){var t=e.target,n=t.id,r=t.name;o.setState({confirm:!o.state.confirm,action:r,currentId:Number(n)})})),g(v(o),"hideConfirm",(function(){return o.setState({confirm:!1})})),g(v(o),"handleTodoEdit",(function(e){o.setState({editValue:e.target.value})})),g(v(o),"editTodo",(function(e){var t=Number(/\d+/.exec(e.target.htmlFor)[0]),n=o.state.todos.find((function(e){return e.id===t})).completed;o.setState({canEdit:!n,currentId:t,editValue:e.target.innerText,confirm:!1})})),g(v(o),"finishTodoEdit",(function(e){"Enter"===e.key&&o.changeTodoText(),"Escape"===e.key&&o.setState({canEdit:!1})})),g(v(o),"changeTodoText",(function(){var e=o.state,t=e.currentId,n=e.editValue;o.setState((function(e){return e.todos.find((function(e){return e.id===t})).content=n,{todos:e.todos,canEdit:!e.canEdit}}))})),o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),o=t,(n=[{key:"setAddBtn",value:function(){var e=this.state,t=e.todoInput,o=e.todos;t.length>T&&!o.find((function(e){return e.content===t.trim()}))?this.setState({canAdd:!0}):this.setState({canAdd:!1})}},{key:"componentDidUpdate",value:function(e,t,o){var n=document.querySelector(".todo-edit");n&&(n.focus(),n.value=this.state.editValue)}},{key:"componentDidMount",value:function(){this.setAddBtn(),this.inputField.current.focus()}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("state",JSON.stringify(t))}},{key:"componentWillMount",value:function(){if(localStorage.getItem("state")){var e=JSON.parse(localStorage.getItem("state"));this.setState(e)}}},{key:"render",value:function(){return r.a.createElement("section",{className:"todoapp"},this.state.confirm&&r.a.createElement(f,{action:this.state.action,confirmAction:this.confirmAction,removeTodo:this.removeTodo,clearCompleted:this.clearCompleted}),r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement("input",{value:this.state.todoInput,onChange:this.handleNewTodo,onKeyUpCapture:this.addNewTodo,onFocus:this.hideConfirm,ref:this.inputField,maxLength:40,className:"new-todo",placeholder:"What needs to be done?"}),r.a.createElement("button",{onPointerUp:this.addNewTodo,className:this.state.canAdd?"add-todo_active":"add-todo",id:"btn-new"},"+")),r.a.createElement(u,{todos:this.state.todos,confirmAction:this.confirmAction,handleTodoCheck:this.handleTodoCheck,removeTodo:this.removeTodo,checkAllTodos:this.checkAllTodos,filter:this.state.filter,current:this.state.currentId,canEdit:this.state.canEdit,editValue:this.state.editValue,handleTodoEdit:this.handleTodoEdit,editTodo:this.editTodo,finishTodoEdit:this.finishTodoEdit,changeTodoText:this.changeTodoText}),r.a.createElement(s,g({todosLeft:this.state.todos.filter((function(e){return!e.completed})).length,completed:this.state.todos.some((function(e){return e.completed})),filter:this.state.filter,setFilter:this.setFilter,confirmAction:this.confirmAction,clearCompleted:this.clearCompleted},"confirmAction",this.confirmAction)))}}])&&h(o.prototype,n),i&&h(o,i),t}(r.a.Component);a.a.render(r.a.createElement((function(){return r.a.createElement(E,null)}),null),document.querySelector("#root"))}]);