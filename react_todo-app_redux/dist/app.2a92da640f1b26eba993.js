!function(e){function t(t){for(var r,i,a=t[0],u=t[1],l=t[2],f=0,s=[];f<a.length;f++)i=a[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);s.length;)s.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=u;c.push([29,1]),n()}({21:function(e,t,n){var r=n(22);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(e.exports=r.locals)},22:function(e,t,n){},23:function(e,t,n){var r=n(24);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(e.exports=r.locals)},24:function(e,t,n){},25:function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(e.exports=r.locals)},26:function(e,t,n){},27:function(e,t,n){var r=n(28);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(e.exports=r.locals)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(5),i=n.n(c),a=n(6),u=n(2),l={INPUT:"INPUT",ADD:"ADD",CHECK:"CHECK",CHECK_ALL:"CHECK_ALL",EDIT:"EDIT",EDIT_INPUT:"EDIT_INPUT",EDIT_STATUS:"EDIT_STATUS",REMOVE:"REMOVE",FILTER_CHANGE:"FILTER_CHANGE",CLEAR:"CLEAR",CONFIRM:"CONFIRM",HIDE_CONFIRM:"HIDE_CONFIRM"};function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"reducer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l.INPUT:return s({},t,{todoInput:n.newInput});case l.ADD:return s({},t,{todos:[].concat(d(t.todos),[{id:t.nextTodo,content:n.todo,completed:!1}]),nextTodo:t.nextTodo+1,todoInput:"",canAdd:!1,confirm:!1});case l.REMOVE:return s({},t,{todos:t.todos.filter((function(e){return e.id!==n.id})),nextTodo:t.nextTodo-1,confirm:!1});case l.CHECK:return s({},t,{todos:t.todos.map((function(e){return e.id===Number(n.id)?s({},e,{completed:!e.completed}):e})),confirm:!1});case l.CHECK_ALL:return s({},t,{todos:t.todos.map((function(e){return s({},e,{completed:!t.allChecked})})),allChecked:!t.allChecked,confirm:!1});case l.EDIT:return console.log(n),s({},t,{currentId:n.id,canEdit:!n.isCompleted,confirm:!1,editInput:n.todoText});case l.EDIT_INPUT:return s({},t,{editInput:n.newInput});case l.EDIT_STATUS:return s({},t,{canEdit:n.status});case l.FILTER_CHANGE:return s({},t,{filter:n.filter,confirm:!1});case l.CLEAR:return s({},t,{confirm:!1,todos:t.todos.filter((function(e){return!e.completed})),nextTodo:0});case l.CONFIRM:return s({},t,{confirm:!n.status,action:n.name,currentId:Number(n.id)});case l.HIDE_CONFIRM:return s({},t,{confirm:!1});default:return t}}}],(n=null)&&p(t.prototype,n),r&&p(t,r),e}();m(E,"initialState",{todoInput:"",nextTodo:0,todos:[],filter:"All",allChecked:!1,editInput:"",completed:!1,canAdd:!1,canEdit:!1,confirm:!1,action:null,currentId:null}),m(E,"updateInput",(function(e){return{type:l.INPUT,newInput:e}})),m(E,"add",(function(e){return{type:l.ADD,todo:e}})),m(E,"check",(function(e){return{type:l.CHECK,id:e}})),m(E,"checkAll",(function(e){return{type:l.CHECK_ALL,allChecked:e}})),m(E,"edit",(function(e,t,n){return{type:l.EDIT,id:e,isCompleted:t,todoText:n}})),m(E,"handleEditInput",(function(e){return{type:l.EDIT_INPUT,newInput:e}})),m(E,"setEditStatus",(function(e){return{type:l.EDIT_STATUS,status:e}})),m(E,"remove",(function(e){return{type:l.REMOVE,id:e}})),m(E,"changeFilter",(function(e){return{type:l.FILTER_CHANGE,filter:e}})),m(E,"clearCompleted",(function(){return{type:l.CLEAR}})),m(E,"confirmAction",(function(e,t,n){return{type:l.CONFIRM,status:e,id:t,name:n}})),m(E,"hideConfirm",(function(){return{type:l.HIDE_CONFIRM}}));n(21);var h=n(1),I=n.n(h);n(23);function b(e){var t=e.todos,n=e.checkAll;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:t.every((function(e){return e.completed})),onChange:n}),o.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}b.propTypes={todos:I.a.array.isRequired,checkAll:I.a.func.isRequired};var y=Object(u.b)((function(e){return{todos:e.todos}}),(function(e){return{checkAll:function(){return e(E.checkAll())}}}))(b);function g(e){var t=function(t){return e.check(t.target.id)},n=function(t){return e.handleEditInput(t.target.value)},c=function(t){var n=Number(/\d+/.exec(t.target.htmlFor)[0]),r=e.todos.find((function(e){return e.completed})),o=t.target.innerText;e.editTodo(n,r,o)},i=function(){e.todos.find((function(t){return t.id===e.currentId})).content=e.editInput,e.setEditStatus(!1)},a=function(t){"Enter"===t.key&&i(),"Escape"===t.key&&e.setEditStatus(!1)},u=Object(r.useRef)();return Object(r.useEffect)((function(){u.current&&u.current.focus()}),[e.canEdit]),o.a.createElement("section",{className:"main"},o.a.createElement(y,null),o.a.createElement("ul",{className:"todo-list"},e.todos.filter((function(t){return"All"===e.filter||"Completed"===e.filter&&t.completed||"Active"===e.filter&&!t.completed})).map((function(r){return o.a.createElement("li",{key:r.id,className:r.completed?"completed":""},o.a.createElement("div",{className:"view"},!e.canEdit&&o.a.createElement("input",{id:r.id,checked:r.completed,onChange:t,className:"toggle",type:"checkbox"}),e.canEdit&&r.id===e.currentId?o.a.createElement("input",{onChange:n,onKeyDown:a,onBlur:i,value:e.editInput,ref:u,className:"todo-edit"}):o.a.createElement("label",{onPointerDown:c,htmlFor:"todo-".concat(r.id)},r.content),!e.canEdit&&o.a.createElement("button",{id:r.id,onPointerDown:e.confirmAction,name:"remove",className:"destroy"})))}))))}g.propTypes={todos:I.a.array.isRequired,filter:I.a.oneOf(["All","Active","Completed"]).isRequired,check:I.a.func.isRequired,confirmAction:I.a.func.isRequired,canEdit:I.a.bool.isRequired,currentId:I.a.number,editInput:I.a.string,handleEditInput:I.a.func.isRequired};var v=Object(u.b)((function(e){return{todos:e.todos,currentId:e.currentId,canEdit:e.canEdit,editInput:e.editInput,filter:e.filter}}),(function(e){return{check:function(t){return e(E.check(t))},handleEditInput:function(t){return e(E.handleEditInput(t))},setEditStatus:function(t){return e(E.setEditStatus(t))},editTodo:function(t,n,r){return e(E.edit(t,n,r))}}}))(g);n(25);function C(e){var t=e.todos.some((function(e){return e.completed})),n=e.todos.filter((function(e){return!e.completed})).length;return o.a.createElement("footer",{className:"footer",style:{filter:"block"}},o.a.createElement("span",{className:"todo-count"},n," todos left"),o.a.createElement("ul",{className:"filters"},["All","Active","Completed"].map((function(t){return o.a.createElement("li",{key:t},o.a.createElement("a",{href:"#/".concat(t),className:e.filter===t?"selected":"",onClick:function(t){return e.changeFilter(t.target.innerText)}},t))}))),t?o.a.createElement("button",{onClick:e.confirmAction,className:"clear-completed",name:"clear"},"Clear completed"):null)}C.propTypes={filter:I.a.oneOf(["All","Active","Completed"]).isRequired,changeFilter:I.a.func.isRequired,confirmAction:I.a.func.isRequired};var T=Object(u.b)((function(e){return{todos:e.todos,filter:e.filter}}),(function(e){return{changeFilter:function(t){return e(E.changeFilter(t))}}}))(C);n(27);function O(e){var t={remove:function(){return e.removeTodo(e.currentId)},clear:function(){return e.clearCompleted()}};return o.a.createElement("div",{className:"todoapp__confirm"},"This action cannot be undone. Proceed?",o.a.createElement("button",{onClick:t[e.action],className:"confirm-btn confirm_yes",name:"confirm"},"√"),o.a.createElement("button",{onClick:e.confirmAction,className:"confirm-btn confirm_no",name:"decline"},"×"))}O.propTypes={action:I.a.string.isRequired,currentId:I.a.number.isRequired,removeTodo:I.a.func.isRequired,clearCompleted:I.a.func.isRequired,confirmAction:I.a.func.isRequired};var A=Object(u.b)((function(e){return{action:e.action,currentId:e.currentId}}),(function(e){return{removeTodo:function(t){return e(E.remove(t))},clearCompleted:function(){return e(E.clearCompleted())},confirmAction:function(t,n,r){return e(E.confirmAction(t,n,r))}}}))(O);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=Object(u.b)((function(e){return{todos:e.todos,nextTodo:e.nextTodo,todoInput:e.todoInput,filter:e.filter,allChecked:e.allChecked,confirm:e.confirm}}),(function(e){return{updateInput:function(t){return e(E.updateInput(t))},add:function(t){return e(E.add(t))},confirmAction:function(t,n,r){return e(E.confirmAction(t,n,r))},hideConfirm:function(){return e(E.hideConfirm())}}}))((function(e){var t=N(Object(r.useState)(!1),2),n=t[0],c=t[1],i=Object(r.useRef)(),a=function(){e.todoInput.length>4&&!e.todos.find((function(t){return t.content===e.todoInput.trim()}))?c(!0):c(!1)},u=function(t){var n=t.target,r=n.id,o=n.name;e.confirmAction(e.confirm,r,o)};return Object(r.useEffect)((function(){a()}),[]),Object(r.useEffect)((function(){localStorage.setItem("todoInput",e.todoInput),localStorage.setItem("nextTodo",String(e.nextTodo)),localStorage.setItem("todos",JSON.stringify(e.todos)),localStorage.setItem("filter",e.filter),localStorage.setItem("allChecked",String(e.allChecked)),i.current.focus()}),[e.todoInput,e.nextTodo,e.todos,e.filter,e.allChecked]),o.a.createElement("section",{className:"todoapp"},e.confirm&&o.a.createElement(A,{confirmAction:u}),o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement("input",{value:e.todoInput,onChange:function(t){return e.updateInput(t.target.value)},onKeyUpCapture:function(t){var n=t.target.value;a(),"Enter"===t.key&&n.trim()&&e.todoInput.length>4&&!e.todos.find((function(e){return e.content===n.trim()}))&&(e.add(e.todoInput),i.current.focus())},onFocus:e.hideConfirm,ref:i,maxLength:40,className:"new-todo",placeholder:"What needs to be done?"}),o.a.createElement("button",{onPointerUp:function(){e.todoInput.trim()&&e.todoInput.length>4&&!e.todos.find((function(t){return t.content===e.todoInput.trim()}))&&(e.add(e.todoInput),i.current.focus())},className:n?"add-todo_active":"add-todo",id:"btn-new"},"+")),o.a.createElement(v,{confirmAction:u}),o.a.createElement(T,{confirmAction:u}))})),k=Object(a.b)(E.reducer);i.a.render(o.a.createElement((function(){return o.a.createElement(u.a,{store:k},o.a.createElement(j,null))}),null),document.querySelector("#root"))}});