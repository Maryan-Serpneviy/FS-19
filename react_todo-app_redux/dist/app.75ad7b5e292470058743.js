!function(e){function t(t){for(var r,a,i=t[0],u=t[1],l=t[2],s=0,f=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);f.length;)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=u;c.push([114,1]),n()}({113:function(e,t,n){"use strict";var r=n(39),o=n.n(r),c=n(40),a=n.n(c),i=n(104),u=n.n(i),l=n(105),d=n.n(l),s=n(106),f=n.n(s),p=n(0),m=n.n(p),E=n(18),h=n(19),v=n(41),I=n(108),y=n.n(I),b=n(109),C=n.n(b),g={INPUT:"INPUT",ADD:"ADD",CHECK:"CHECK",CHECK_ALL:"CHECK_ALL",EDIT:"EDIT",EDIT_INPUT:"EDIT_INPUT",EDIT_STATUS:"EDIT_STATUS",REMOVE:"REMOVE",CHANGE_FILTER:"CHANGE_FILTER",CLEAR:"CLEAR",CONFIRM:"CONFIRM",HIDE_CONFIRM:"HIDE_CONFIRM"};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={todoInput:"",nextTodo:0,todos:[],filter:"All",allChecked:!1,editInput:"",completed:!1,canAdd:!1,canEdit:!1,action:null,currentId:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.INPUT:return O({},e,{todoInput:t.newInput});case g.ADD:return O({},e,{todos:[].concat(y()(e.todos),[{id:e.nextTodo,key:t.key,content:t.todo,completed:!1}]),nextTodo:e.nextTodo+1,todoInput:"",canAdd:!1});case g.REMOVE:return O({},e,{todos:e.todos.filter((function(e){return e.id!==t.id})),nextTodo:e.nextTodo-1});case g.CHECK:return O({},e,{todos:e.todos.map((function(e){return e.id===Number(t.id)?O({},e,{completed:!e.completed}):e}))});case g.CHECK_ALL:return O({},e,{todos:e.todos.map((function(t){return O({},t,{completed:!e.allChecked})})),allChecked:!e.allChecked});case g.EDIT:return O({},e,{currentId:t.id,canEdit:!t.isCompleted,editInput:t.todoText});case g.EDIT_INPUT:return O({},e,{editInput:t.newInput});case g.EDIT_STATUS:return O({},e,{canEdit:t.status});case g.CHANGE_FILTER:var n="";return"/"!==t.filter&&(n=/\w+/.exec(t.filter)[0]),O({},e,{filter:n});case g.CLEAR:return O({},e,{todos:e.todos.filter((function(e){return!e.completed})),nextTodo:0});case g.CONFIRM:return O({},e,{action:t.name,currentId:Number(t.id)});default:return e}},A=function(){function e(){o()(this,e)}return a()(e,null,[{key:"loadState",value:function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(e){return}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){console.error(e)}}}]),e}(),w=n(110),R=n.n(w),j=function(){var e=A.loadState(),t=Object(v.b)(k,e);return t.subscribe(R()((function(){A.saveState(t.getState())}),1e3)),t},_=n(111),S=function(e){return{type:g.CHANGE_FILTER,filter:e}},D=function(){return{type:g.CLEAR}},x=n(61),P=n.n(x),F=(n(222),n(3)),L=n.n(F);n(224);function q(e){var t=e.todos,n=e.checkAll;return m.a.createElement(m.a.Fragment,null,m.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:t.every((function(e){return e.completed})),onChange:n}),m.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}function U(e){var t=function(t){e.check(t.target.id),e.showConfirm(!1)},n=function(t){return e.handleEditInput(t.target.value)},r=function(t){var n=Number(/\d+/.exec(t.target.htmlFor)[0]),r=e.todos.find((function(e){return e.completed})),o=t.target.innerText;e.editTodo(n,r,o)},o=function(){e.todos.find((function(t){return t.id===e.currentId})).content=e.editInput,e.setEditStatus(!1)},c=function(t){"Enter"===t.key&&o(),"Escape"===t.key&&e.setEditStatus(!1)},a=Object(p.useRef)();return Object(p.useEffect)((function(){a.current&&a.current.focus()}),[e.canEdit]),m.a.createElement("section",{className:"main"},m.a.createElement(q,{todos:e.todos,checkAll:e.checkAll}),m.a.createElement("ul",{className:"todo-list"},e.todos.filter((function(t){return""===e.filter||"Completed"===e.filter&&t.completed||"Active"===e.filter&&!t.completed})).map((function(i){return m.a.createElement("li",{key:i.key,className:i.completed?"completed":""},m.a.createElement("div",{className:"view"},!e.canEdit&&m.a.createElement("input",{id:i.id,checked:i.completed,onChange:t,className:"toggle",type:"checkbox"}),e.canEdit&&i.id===e.currentId?m.a.createElement("input",{onFocus:function(){return e.showConfirm(!1)},onChange:n,onKeyDown:c,onBlur:o,value:e.editInput,ref:a,className:"todo-edit"}):m.a.createElement("label",{onPointerDown:r,htmlFor:"todo-".concat(i.id)},i.content),!e.canEdit&&m.a.createElement("button",{id:i.id,onPointerDown:e.confirmAction,name:"remove",className:"destroy"})))}))))}q.propTypes={todos:L.a.array.isRequired,checkAll:L.a.func.isRequired},U.propTypes={todos:L.a.array.isRequired,check:L.a.func.isRequired,confirmAction:L.a.func.isRequired,filter:L.a.oneOf(["","Active","Completed"]).isRequired,canEdit:L.a.bool.isRequired,currentId:L.a.number,editInput:L.a.string,handleEditInput:L.a.func.isRequired};var M=Object(E.b)((function(e){return{todos:e.todos,filter:e.filter,currentId:e.currentId,canEdit:e.canEdit,editInput:e.editInput}}),(function(e){return{check:function(t){return e(function(e){return{type:g.CHECK,id:e}}(t))},checkAll:function(){return e({type:g.CHECK_ALL,allChecked:t});var t},handleEditInput:function(t){return e({type:g.EDIT_INPUT,newInput:t})},setEditStatus:function(t){return e(function(e){return{type:g.EDIT_STATUS,status:e}}(t))},editTodo:function(t,n,r){return e(function(e,t,n){return{type:g.EDIT,id:e,isCompleted:t,todoText:n}}(t,n,r))}}}))(U),H=n(29),K=function(e){var t=e.filter,n=e.children;return m.a.createElement(H.b,{to:"All"===t?"":t,className:"filters--link",activeClassName:"filters--link_selected",exact:!0},n)};n(227);function G(e){var t=e.todos.filter((function(e){return!e.completed})).length,n=e.todos.some((function(e){return e.completed}));return m.a.createElement("footer",{className:"footer",style:{filter:"block"}},m.a.createElement("span",{className:"todo-count"},t," todos left"),m.a.createElement("div",{className:"filters"},["All","Active","Completed"].map((function(e){return m.a.createElement(K,{key:e,filter:e},e)}))),n?m.a.createElement("button",{onClick:e.confirmAction,className:"clear-completed",name:"clear"},"Clear completed"):null)}G.propTypes={changeFilter:L.a.func.isRequired,confirmAction:L.a.func.isRequired};var J=Object(E.b)((function(e,t){return{todos:e.todos,filter:e.filter}}),(function(e){return{changeFilter:function(t){return e(S(t))},clearCompleted:function(){return e(D())}}}))(G);n(229);function V(e){var t={remove:function(){e.removeTodo(e.currentId),e.showConfirm(!1)},clear:function(){e.clearCompleted(),e.showConfirm(!1)}};return m.a.createElement("div",{className:"todoapp__confirm"},"Confirm action",m.a.createElement("button",{onClick:t[e.action],className:"confirm-btn confirm_yes",name:"confirm"},"√"),m.a.createElement("button",{onClick:function(){return e.showConfirm(!1)},className:"confirm-btn confirm_no",name:"decline"},"×"))}V.propTypes={action:L.a.string.isRequired,currentId:L.a.number.isRequired,showConfirm:L.a.func.isRequired,removeTodo:L.a.func.isRequired,clearCompleted:L.a.func.isRequired};var B,W=Object(E.b)((function(e){return{todos:e.todos,filtered:e.filtered,nextTodo:e.nextTodo,todoInput:e.todoInput,allChecked:e.allChecked,action:e.action,currentId:e.currentId}}),(function(e){return{updateInput:function(t){return e({type:g.INPUT,newInput:t})},add:function(t){return e((n=t,{type:g.ADD,key:Object(_.v4)(),todo:n}));var n},confirmAction:function(t,n){return e(function(e,t,n){return{type:g.CONFIRM,status:e,id:t,name:n}}(confirm,t,n))},removeTodo:function(t){return e(function(e){return{type:g.REMOVE,id:e}}(t))},changeFilter:function(t){return e(S(t))},clearCompleted:function(){return e(D())}}}))((function(e){var t=Object(p.useState)(!1),n=P()(t,2),r=n[0],o=n[1],c=Object(p.useState)(!1),a=P()(c,2),i=a[0],u=a[1],l=Object(p.useRef)(),d=function(){e.todoInput.length>4&&!e.todos.find((function(t){return t.content===e.todoInput.trim()}))?o(!0):o(!1)},s=function(t){var n=t.target,r=n.id,o=n.name;u(!0),e.confirmAction(r,o)};return Object(p.useEffect)((function(){d(),document.addEventListener("click",(function(e){(i&&"todoapp__confirm"!==e.target.className||""===e.target.className)&&u(!1)}))}),[]),Object(p.useEffect)((function(){e.changeFilter(e.history.location.pathname)}),[e.history.location]),m.a.createElement("section",{className:"todoapp"},i&&m.a.createElement(V,{action:e.action,currentId:e.currentId,showConfirm:u,removeTodo:e.removeTodo,clearCompleted:e.clearCompleted,confirmAction:s}),m.a.createElement("header",{className:"header"},m.a.createElement("h1",null,"todos"),m.a.createElement("input",{value:e.todoInput,onChange:function(t){return e.updateInput(t.target.value)},onKeyUpCapture:function(t){var n=t.target.value;d(),"Enter"===t.key&&n.trim()&&e.todoInput.length>4&&!e.todos.find((function(e){return e.content===n.trim()}))&&(o(!1),e.add(e.todoInput),l.current.focus())},onFocus:function(){return u(!1)},ref:l,maxLength:40,className:"new-todo",placeholder:"What needs to be done?"}),m.a.createElement("button",{onPointerUp:function(){e.todoInput.trim()&&e.todoInput.length>4&&!e.todos.find((function(t){return t.content===e.todoInput.trim()}))&&(o(!1),u(!1),e.add(e.todoInput),l.current.focus())},className:r?"add-todo_active":"add-todo",id:"btn-new"},"+")),m.a.createElement(M,{showConfirm:u,confirmAction:s}),m.a.createElement(J,{showConfirm:u,confirmAction:s}))}));n.d(t,"a",(function(){return Q}));var z=j(),Q=Object(h.e)(B=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){return m.a.createElement(E.a,{store:z},m.a.createElement(h.a,{path:"/",component:W}))}}]),t}(p.Component))||B},114:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),r=n.n(t),o=n(29),c=n(37),a=n.n(c),i=n(113);a.a.render(r.a.createElement(o.a,{basename:e.env.PUBLIC_URL},r.a.createElement(i.a,null)),document.querySelector("#root"))}.call(this,n(15))},141:function(e,t){},143:function(e,t){},176:function(e,t){},177:function(e,t){},222:function(e,t,n){var r=n(223);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(36)(r,o);r.locals&&(e.exports=r.locals)},223:function(e,t,n){},224:function(e,t,n){var r=n(225);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(36)(r,o);r.locals&&(e.exports=r.locals)},225:function(e,t,n){},227:function(e,t,n){var r=n(228);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(36)(r,o);r.locals&&(e.exports=r.locals)},228:function(e,t,n){},229:function(e,t,n){var r=n(230);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(36)(r,o);r.locals&&(e.exports=r.locals)},230:function(e,t,n){}});