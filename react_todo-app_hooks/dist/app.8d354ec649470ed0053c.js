!function(e){function t(t){for(var o,a,l=t[0],i=t[1],u=t[2],s=0,f=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(d&&d(t);f.length;)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={0:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=i;c.push([19,1]),n()}([,,,,,,,,,function(e,t,n){var o=n(10);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},,,function(e,t,n){var o=n(14);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){var o=n(18);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(4),a=n.n(c),l=(n(9),n(1)),i=n.n(l);n(13);function u(e){var t=e.checked,n=e.checkAllTodos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:t,onChange:n}),r.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}function d(e){return r.a.createElement("section",{className:"main"},r.a.createElement(u,{checked:e.todos.every((function(e){return e.completed})),checkAllTodos:e.checkAllTodos}),r.a.createElement("ul",{className:"todo-list"},e.todos.filter((function(t){return"All"===e.filter||"Completed"===e.filter&&t.completed||"Active"===e.filter&&!t.completed})).map((function(t){return r.a.createElement("li",{key:t.id,className:t.completed?"completed":""},r.a.createElement("div",{className:"view"},!e.canEdit&&r.a.createElement("input",{id:t.id,checked:t.completed,onChange:e.handleTodoCheck,className:"toggle",type:"checkbox"}),e.canEdit&&t.id===e.current?r.a.createElement("input",{onChange:e.handleTodoEdit,onKeyDown:e.finishTodoEdit,onBlur:e.changeTodoText,value:e.editValue,className:"todo-edit"}):r.a.createElement("label",{onPointerDown:e.editTodo,htmlFor:"todo-".concat(t.id)},t.content),!e.canEdit&&r.a.createElement("button",{id:t.id,onPointerDown:e.confirmAction,name:"remove",className:"destroy"})))}))))}u.propTypes={checked:i.a.bool.isRequired,checkAllTodos:i.a.func.isRequired},d.propTypes={todos:i.a.array.isRequired,filter:i.a.oneOf(["All","Active","Completed"]).isRequired,handleTodoCheck:i.a.func.isRequired,confirmAction:i.a.func.isRequired,checkAllTodos:i.a.func.isRequired,canEdit:i.a.bool.isRequired,current:i.a.number,editValue:i.a.string.isRequired,handleTodoEdit:i.a.func.isRequired,editTodo:i.a.func.isRequired,finishTodoEdit:i.a.func.isRequired,changeTodoText:i.a.func.isRequired};n(15);function s(e){return r.a.createElement("footer",{className:"footer",style:{filter:"block"}},r.a.createElement("span",{className:"todo-count"},e.todosLeft," todos left"),r.a.createElement("ul",{className:"filters"},["All","Active","Completed"].map((function(t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#/".concat(t),className:e.filter===t?"selected":"",onClick:e.changeFilter},t))}))),e.completed?r.a.createElement("button",{onClick:e.confirmAction,className:"clear-completed",name:"clear"},"Clear completed"):null)}s.propTypes={todosLeft:i.a.number.isRequired,filter:i.a.oneOf(["All","Active","Completed"]).isRequired,changeFilter:i.a.func.isRequired,completed:i.a.bool.isRequired,confirmAction:i.a.func.isRequired};n(17);function f(e){var t={remove:e.removeTodo,clear:e.clearCompleted};return r.a.createElement("div",{className:"todoapp__confirm"},"This action cannot be undone. Proceed?",r.a.createElement("button",{onClick:t[e.action],className:"confirm-btn confirm_yes",name:"confirm"},"√"),r.a.createElement("button",{onClick:e.confirmAction,className:"confirm-btn confirm_no",name:"decline"},"×"))}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,c=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(){var e=m(Object(o.useState)(localStorage.getItem("todoInput")||""),2),t=e[0],n=e[1],c=m(Object(o.useState)(Number(localStorage.getItem("nextTodo"))||0),2),a=c[0],l=c[1],i=m(Object(o.useState)(JSON.parse(localStorage.getItem("todos"))||[]),2),u=i[0],p=i[1],h=m(Object(o.useState)(localStorage.getItem("filter")||"All"),2),g=h[0],b=h[1],v=m(Object(o.useState)(localStorage.getItem(Boolean("allChecked"))||!1),2),y=v[0],E=v[1],T=m(Object(o.useState)(""),2),S=T[0],O=T[1],k=m(Object(o.useState)(!1),2),j=k[0],A=k[1],N=m(Object(o.useState)(!1),2),q=N[0],C=N[1],R=m(Object(o.useState)(!1),2),x=R[0],w=R[1],I=m(Object(o.useState)(null),2),P=I[0],_=I[1],F=m(Object(o.useState)(null),2),M=F[0],J=F[1],L=4,D=Object(o.useRef)();function V(){t.length>L&&!u.find((function(e){return e.content===t.trim()}))?A(!0):A(!1)}function B(){p(u.filter((function(e){return e.id!==M}))),l((function(e){return e-1})),W()}function K(){p(u.filter((function(e){return!e.completed}))),l(0),W()}function U(e){var t=e.target,n=t.id,o=t.name;w(!x),_(o),J(Number(n))}function W(){w(!1)}function z(){u.find((function(e){return e.id===M})).content=S,C(!q)}return Object(o.useEffect)((function(){V()}),[]),Object(o.useEffect)((function(){var e=document.querySelector(".todo-edit");e&&(e.focus(),e.value=S)}),[q]),Object(o.useEffect)((function(){localStorage.setItem("todoInput",t),localStorage.setItem("nextTodo",String(a)),localStorage.setItem("todos",JSON.stringify(u)),localStorage.setItem("filter",g),localStorage.setItem("allChecked",String(y)),D.current.focus()}),[t,a,u,g,y]),r.a.createElement("section",{className:"todoapp"},x&&r.a.createElement(f,{action:P,confirmAction:U,removeTodo:B,clearCompleted:K}),r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)},onKeyUpCapture:function(e){var o=e.target.value;V(),"Enter"===e.key&&o.trim()&&t.length>L&&!u.find((function(e){return e.content===o.trim()}))&&(u.push({id:a,content:t,completed:!1}),l((function(e){return e+1})),n(""),A(!1),W())},onFocus:W,ref:D,maxLength:40,className:"new-todo",placeholder:"What needs to be done?"}),r.a.createElement("button",{onPointerUp:function(){t.trim()&&t.length>L&&!u.find((function(e){return e.content===t.trim()}))&&(u.push({id:a,content:t,completed:!1}),l((function(e){return e+1})),n(""),A(!1),W())},className:j?"add-todo_active":"add-todo",id:"btn-new"},"+")),r.a.createElement(d,{todos:u,confirmAction:U,handleTodoCheck:function(e){var t=e.target.id;p(u.map((function(e){return e.id===Number(t)&&(e.completed=!e.completed),e}))),W()},removeTodo:B,checkAllTodos:function(){var e=!0,t=!1,n=void 0;try{for(var o,r=u[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){o.value.completed=y}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}E(!y),W()},filter:g,current:M,canEdit:q,editValue:S,handleTodoEdit:function(e){O(e.target.value)},editTodo:function(e){var t=Number(/\d+/.exec(e.target.htmlFor)[0]),n=u.find((function(e){return e.id===t})).completed;C(!n),J(t),O(e.target.innerText),W()},finishTodoEdit:function(e){"Enter"===e.key&&z(),"Escape"===e.key&&C(!1)},changeTodoText:z}),r.a.createElement(s,{todosLeft:u.filter((function(e){return!e.completed})).length,completed:u.some((function(e){return e.completed})),filter:g,changeFilter:function(e){b(e.target.innerText),W()},confirmAction:U,clearCompleted:K,hideConfirm:W}))}f.propTypes={confirmAction:i.a.func.isRequired,removeTodo:i.a.func.isRequired,clearCompleted:i.a.func.isRequired,action:i.a.string.isRequired},a.a.render(r.a.createElement((function(){return r.a.createElement(p,null)}),null),document.querySelector("#root"))}]);